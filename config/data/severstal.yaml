# Data configuration for Severstal dataset
severstal:
  # Data paths (relative to project root)
  img_dir: "data/images"
  ann_dir: "data/annotations"
  
  # Training mode: "full_images" for complete image processing
  training_mode: "full_images"
  
  # Dataset split ratios
  train_ratio: 0.8
  val_ratio: 0.1
  test_ratio: 0.1
  
  # Class information
  num_classes: 4  # 1-4=defect_types (multi-label classification)
  class_names: ["defect_1", "defect_2", "defect_3", "defect_4"]
  
  # Class weights for BCEWithLogitsLoss (based on our data analysis)
  # defect_3: 73.47%, defect_1: 15.38%, defect_4: 9.55%, defect_2: 1.60%
  pos_weights: [6.5, 62.5, 1.36, 10.5]  # [defect_1, defect_2, defect_3, defect_4]
  
  # Full image processing configuration
  full_image_processing:
    enabled: true
    target_size: [256, 1600]  # [height, width] - maintain aspect ratio
    resize_mode: "pad"  # "resize", "pad", "crop"
    debug_limit_images: null  # Set to number for debugging, null for all

# Data augmentation
augmentation:
  # Standard CV augmentations
  standard:
    enabled: true
    horizontal_flip: 0.5
    vertical_flip: 0.3
    rotation_degrees: 15
    brightness: 0.2
    contrast: 0.2
    saturation: 0.1
    hue: 0.05
  
  # Custom defect augmentations
  defect_blackout:
    enabled: false
    probability: 0.3
    instance_blackout_prob: 0.5
    min_pixels_to_blackout: 10

# Data loading
dataloader:
  batch_size: 32
  num_workers: 4
  pin_memory: true
  drop_last: true

# Image preprocessing
preprocessing:
  resize: [224, 224]  # [height, width]
  normalize:
    mean: [0.485, 0.456, 0.406]  # ImageNet stats
    std: [0.229, 0.224, 0.225]